(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"184b":function(e,s,t){},"5b17":function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("q-page",{ref:"pageChat",staticClass:"flex column page-chat"},[e.users[e.$route.params.otherUserId].online?e._e():t("q-banner",{staticClass:"text-center bg-grey-4 fixed-top"},[e._v("\n     "+e._s(e.users[e.$route.params.otherUserId].name)+" is offline.\n  ")]),t("div",{staticClass:"col q-pa-md column justify-end",class:{invisible:!e.showMessages}},e._l(e.messages,(function(s,a){return t("q-chat-message",{key:a,attrs:{name:"me"===s.from?e.userDetails.name:e.users[e.$route.params.otherUserId].name,text:[s.text],bgColor:"me"==s.from?"white":"light-green-2",sent:"me"==s.from}})})),1),t("q-footer",{attrs:{elevated:""}},[t("q-toolbar",[t("q-form",{staticClass:"full-width"},[t("q-input",{ref:"newMessage",staticClass:"full-width",attrs:{"bg-color":"white",outlined:"",rounded:"",label:"Message",dense:""},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.sendMessage.apply(null,arguments)}},scopedSlots:e._u([{key:"after",fn:function(){return[t("q-btn",{attrs:{round:"",dense:"",flat:"",color:"white",icon:"send"},on:{click:e.sendMessage}})]},proxy:!0}]),model:{value:e.newMessage,callback:function(s){e.newMessage=s},expression:"newMessage"}})],1)],1)],1)],1)},r=[],n=t("ded3"),o=t.n(n),i=t("2f62"),l={data(){return{newMessage:"",showMessages:!1}},computed:o()({},Object(i["d"])("store",["messages","userDetails","users"])),methods:o()(o()({},Object(i["b"])("store",["firebaseGetMessages","firebaseStopGettingMessages","firebaseSendMessage"])),{},{sendMessage(){this.firebaseSendMessage({message:{text:this.newMessage,from:"me"},otherUserId:this.$route.params.otherUserId}),this.clearMessage()},clearMessage(){this.newMessage="",this.$refs.newMessage.focus()},scrollToBottom(){let e=this.$refs.pageChat.$el;setTimeout((()=>{window.scrollTo(0,e.scrollHeight)}),20)}}),watch:{messages:function(e){Object.keys(e).length&&(this.scrollToBottom(),setTimeout((()=>{this.showMessages=!0}),200))}},mounted(){this.firebaseGetMessages(this.$route.params.otherUserId)},destroyed(){this.firebaseStopGettingMessages()}},c=l,u=(t("adb3"),t("2877")),d=t("9989"),g=t("54e1"),f=t("8169"),h=t("7ff0"),m=t("65c6"),p=t("0378"),b=t("27f9"),w=t("9c40"),M=t("eebe"),y=t.n(M),k=Object(u["a"])(c,a,r,!1,null,"8ed599e8",null);s["default"]=k.exports;y()(k,"components",{QPage:d["a"],QBanner:g["a"],QChatMessage:f["a"],QFooter:h["a"],QToolbar:m["a"],QForm:p["a"],QInput:b["a"],QBtn:w["a"]})},adb3:function(e,s,t){"use strict";t("184b")}}]);